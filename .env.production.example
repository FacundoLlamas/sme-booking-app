# ==================== PRODUCTION ENVIRONMENT VARIABLES ====================
# ‚ö†Ô∏è  SECURITY WARNING: These are examples. Replace with actual production values!
# ‚ö†Ô∏è  NEVER commit actual secrets to git. Use secret management tools:
#     - GitHub Secrets (for GitHub Actions)
#     - Vercel Environment Variables (for Vercel deployment)
#     - HashiCorp Vault (for on-premise)
#     - AWS Secrets Manager (for AWS)
#     - Google Secret Manager (for GCP)

# ==================== APPLICATION ====================
NODE_ENV=production
APP_URL=https://booking.example.com
APP_PORT=3000

# ==================== DATABASE ====================
# Production: Use managed PostgreSQL (RDS, Cloud SQL, etc.)
# DO NOT use SQLite in production
DATABASE_URL=postgresql://user:password@your-db.example.com:5432/sme_booking_prod
DATABASE_MOCK=false
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_TIMEOUT=30000
DATABASE_SSL=true

# ==================== GOOGLE CALENDAR ====================
# Required for production (cannot use mock mode)
GOOGLE_CALENDAR_MOCK=false
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALENDAR_API_KEY=your-google-api-key
GOOGLE_CALENDAR_CREDENTIALS=${GOOGLE_CALENDAR_CREDENTIALS_JSON}

# Google Calendar OAuth Scopes (comma-separated)
GOOGLE_CALENDAR_SCOPES=https://www.googleapis.com/auth/calendar,https://www.googleapis.com/auth/calendar.events

# Webhook Configuration for Calendar Push Notifications
GOOGLE_CALENDAR_WEBHOOK_SECRET=your-secret-webhook-key-min-32-chars
CALENDAR_WEBHOOK_URL=https://booking.example.com/api/webhooks/google-calendar

# ==================== TIMEZONE CONFIGURATION ====================
EXPERT_TIMEZONE=America/New_York
CUSTOMER_TIMEZONE=America/Los_Angeles

# ==================== TWILIO SMS ====================
# Required for production SMS notifications
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+15551234567
TWILIO_MOCK=false
TWILIO_API_KEY=your-twilio-api-key
TWILIO_API_SECRET=your-twilio-api-secret

# SMS Configuration
SMS_REMINDER_HOURS_BEFORE=24,2
SMS_CONFIRMATION_TEMPLATE=booking_confirmation
SMS_REMINDER_TEMPLATE=booking_reminder
SMS_CANCELLATION_TEMPLATE=booking_cancellation

# ==================== SENDGRID EMAIL ====================
# Required for production email notifications
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@booking.example.com
SENDGRID_FROM_NAME=SME Booking App
SENDGRID_MOCK=false

# Email Templates
SENDGRID_CONFIRMATION_TEMPLATE_ID=d-your-confirmation-template-id
SENDGRID_REMINDER_TEMPLATE_ID=d-your-reminder-template-id
SENDGRID_CANCELLATION_TEMPLATE_ID=d-your-cancellation-template-id

# ==================== ANTHROPIC (Claude LLM) ====================
# Required for production AI features
ANTHROPIC_API_KEY=sk-ant-v1-your-actual-api-key
ANTHROPIC_MOCK=false
LLM_MODEL=claude-sonnet-4-5
ANTHROPIC_TIMEOUT_MS=30000

# Model Configuration
CLAUDE_PRICING_OPUS_INPUT=15.0
CLAUDE_PRICING_OPUS_OUTPUT=75.0
CLAUDE_PRICING_SONNET_INPUT=3.0
CLAUDE_PRICING_SONNET_OUTPUT=15.0
CLAUDE_PRICING_HAIKU_INPUT=0.25
CLAUDE_PRICING_HAIKU_OUTPUT=1.25

# ==================== REDIS CACHE ====================
# Production: Use managed Redis (ElastiCache, Cloud Memorystore, etc.)
REDIS_URL=redis://:your-redis-password@your-redis.example.com:6379/0
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=
CACHE_TTL_SECONDS=3600
REDIS_TIMEOUT_MS=5000
REDIS_RETRIES=3

# ==================== AUTHENTICATION ====================
# NextAuth Configuration - CHANGE THESE IN PRODUCTION!
NEXTAUTH_URL=https://booking.example.com
NEXTAUTH_SECRET=your-very-secure-random-secret-min-32-chars-use-openssl-rand
NEXTAUTH_CALLBACK_URL=https://booking.example.com/api/auth/callback

# JWT Configuration
NEXTAUTH_JWT_SECRET=your-jwt-secret-min-32-chars
NEXTAUTH_JWT_EXPIRES_IN=86400
NEXTAUTH_SESSION_EXPIRES_IN=2592000

# ==================== RATE LIMITING ====================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_BY_IP=true
RATE_LIMIT_BY_USER=true
RATE_LIMIT_KEY_PREFIX=ratelimit:

# ==================== CORS & SECURITY ====================
ALLOWED_ORIGINS=https://booking.example.com,https://www.booking.example.com
ALLOWED_DOMAINS=booking.example.com,www.booking.example.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# ==================== LOGGING ====================
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_RETENTION_DAYS=30
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false
LOG_SENSITIVE_DATA=false

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-key@sentry.io/your-project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1
SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=1.0

# ==================== METRICS & MONITORING ====================
ENABLE_METRICS=true
ENABLE_REQUEST_TRACING=true
ENABLE_RESPONSE_COMPRESSION=true

# Datadog Monitoring (Optional)
DATADOG_ENABLED=false
DATADOG_API_KEY=
DATADOG_SITE=datadoghq.com

# New Relic (Optional)
NEW_RELIC_ENABLED=false
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=SME Booking App

# ==================== CDN & STATIC ASSETS ====================
NEXT_PUBLIC_CDN_URL=https://cdn.booking.example.com
NEXT_PUBLIC_API_URL=https://api.booking.example.com
STATIC_ASSETS_CACHE_CONTROL=public, max-age=31536000, immutable

# ==================== FILE UPLOADS ====================
UPLOAD_MAX_FILE_SIZE_MB=10
UPLOAD_ALLOWED_MIMETYPES=image/jpeg,image/png,application/pdf
UPLOAD_STORAGE_TYPE=s3
UPLOAD_S3_BUCKET=sme-booking-uploads-prod
UPLOAD_S3_REGION=us-east-1
UPLOAD_S3_ACCESS_KEY_ID=
UPLOAD_S3_SECRET_ACCESS_KEY=

# ==================== FEATURE FLAGS ====================
FEATURE_BOOKING_ENABLED=true
FEATURE_CHAT_ENABLED=true
FEATURE_CALENDAR_SYNC=true
FEATURE_SMS_NOTIFICATIONS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_EXPORT_ICS=true

# ==================== PAYMENT PROCESSING ====================
# Optional: For future payment integration
STRIPE_PUBLIC_KEY=pk_live_your-stripe-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ==================== DEPLOYMENT ====================
VERCEL_PROJECT_ID=
VERCEL_ORG_ID=
VERCEL_DEPLOYMENT_URL=https://booking.example.com

# ==================== BACKUP & DISASTER RECOVERY ====================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * * # Daily at 2 AM UTC
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_URL=s3://sme-booking-backups-prod

# ==================== API KEYS ====================
# Third-party API keys should be stored here
EXTERNAL_API_TIMEOUT_MS=30000
EXTERNAL_API_RETRY_ATTEMPTS=3
EXTERNAL_API_RETRY_DELAY_MS=1000

# ==================== BUSINESS LOGIC ====================
# Booking Configuration
BOOKING_MIN_ADVANCE_HOURS=1
BOOKING_MAX_ADVANCE_DAYS=90
BOOKING_BUFFER_MINUTES_BETWEEN_SERVICES=15
BOOKING_CANCELLATION_WINDOW_HOURS=24
BOOKING_RESCHEDULE_WINDOW_HOURS=24

# Service Durations (minutes)
SERVICE_DURATION_PLUMBING=90
SERVICE_DURATION_ELECTRICAL=120
SERVICE_DURATION_HVAC=120
SERVICE_DURATION_GENERAL_MAINTENANCE=60
SERVICE_DURATION_LANDSCAPING=180

# Business Hours
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=17:00
BUSINESS_DAYS=Mon,Tue,Wed,Thu,Fri
BUSINESS_TIMEZONE=America/New_York

# ==================== COMPLIANCE ====================
GDPR_ENABLED=true
CCPA_ENABLED=true
DATA_RETENTION_DAYS=365
DATA_ANONYMIZATION_ENABLED=true

# ==================== NOTIFICATIONS ====================
NOTIFICATION_QUEUE_ENABLED=true
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_BATCH_TIMEOUT_MS=5000
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY_MS=5000

# Email Notification Settings
EMAIL_NOTIFICATIONS_ENABLED=true
EMAIL_REPLY_TO=support@booking.example.com
EMAIL_UNSUBSCRIBE_ENABLED=true

# SMS Notification Settings
SMS_NOTIFICATIONS_ENABLED=true
SMS_MAX_LENGTH=160
SMS_INTERNATIONAL_ENABLED=false

# Push Notification Settings (Optional)
PUSH_NOTIFICATIONS_ENABLED=false
PUSH_NOTIFICATION_PROVIDER=firebase

# ==================== DOCUMENTATION ====================
# This file documents all required environment variables for production.
#
# ‚úÖ REQUIRED in production:
#    - DATABASE_URL (PostgreSQL)
#    - GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET (OAuth)
#    - TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN (SMS)
#    - SENDGRID_API_KEY (Email)
#    - ANTHROPIC_API_KEY (LLM)
#    - NEXTAUTH_SECRET (Authentication)
#    - All *_MOCK variables set to false
#
# ‚ö†Ô∏è  SECURITY:
#    - Use at least 32 characters for all secrets
#    - Rotate secrets quarterly
#    - Never log or print secret values
#    - Use dedicated secret management services
#    - Implement least-privilege access control
#
# üìã VALIDATION:
#    The application will validate on startup that all required
#    variables are present and valid. Startup will fail if:
#    - Required variable is missing
#    - Invalid format (e.g., invalid URL, bad API key format)
#    - Service connectivity check fails (database, Redis, etc.)
#
# üîÑ MIGRATION PROCESS:
#    1. Set all variables in secret management service
#    2. Deploy to staging first
#    3. Run smoke tests to verify connectivity
#    4. Deploy to production
#    5. Monitor logs for any issues
#
# üìû SUPPORT:
#    For questions about production setup, consult:
#    - https://docs.example.com/production
#    - https://docs.example.com/deployment
#    - deployment@example.com
